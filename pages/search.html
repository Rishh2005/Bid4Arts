<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../imgs/Bid4Arts Logo.png">
    <link rel="stylesheet" href="../components/css/fixed.css">
    <link rel="stylesheet" href="../components/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="../apis/fb.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    <script src="../apis/gtag.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-8WZFY28SVY"></script>
    <title>Bid4Arts - Search</title>
    <style>
        main { 
            max-width: 1000px; 
            margin: 0 auto; 
            padding: 10px 12px 20px; 
            margin-bottom: 100px;
        }

        .search-header {
            top: 64px; 
            z-index: 40; 
            padding: 10px 0;
            backdrop-filter: blur(8px);
            margin-bottom: 1rem;
        }
        
        .search-bar { 
            position: relative; 
            max-width: 640px; 
            margin: 0 auto 12px; 
        }
        
        .search-input {
            width:100%; 
            height: 48px; 
            border-radius: 24px; 
            border:2px solid var(--brown-200);
            background: var(--cream-100); 
            padding: 0 48px; 
            font-weight: 600; 
            color: var(--brown-700);
            transition: .25s var(--t-bounce); 
            box-shadow: var(--shadow-sm);
            font-size: 1rem;
        }
        
        .search-input:focus { 
            outline:none; 
            border-color: var(--gold); 
            background: #fff; 
            transform: scale(1.01); 
        }
        
        .search-ico, .clear-ico { 
            position:absolute; 
            top:50%; 
            transform: translateY(-50%); 
            color: var(--brown-500); 
        }
        
        .search-ico { left: 14px; }
        
        .clear-ico { 
            right: 14px; 
            background: var(--brown-200); 
            width:30px; 
            height:30px; 
            border-radius:50%; 
            display:grid; 
            place-items:center; 
            cursor:pointer; 
            opacity:0; 
            transition:.2s; 
        }
        
        .clear-ico.show { opacity:1; }

        .filter-tabs { 
            display:flex; 
            gap:8px; 
            padding: 0 6px;
            overflow-x:auto;
            scrollbar-width: none;
        }
        
        .filter-tabs::-webkit-scrollbar {
            display: none;
        }
        
        .chip {
            border:2px solid var(--brown-200); 
            background: var(--cream-100); 
            color: var(--brown-700);
            padding:8px 12px; 
            border-radius: 999px; 
            font-weight:600; 
            white-space:nowrap; 
            cursor:pointer; 
            transition: .2s var(--t-bounce);
            font-size: 0.875rem;
        }
        
        .chip:hover { 
            transform: translateY(-2px); 
            background: var(--brown-100); 
        }
        
        .chip.active { 
            background: var(--brown-600); 
            color:#fff; 
            border-color: var(--brown-600); 
        }

        .explore {
            padding: 12px 2px; 
            display:grid; 
            gap:8px;
            grid-template-columns: repeat(6, 1fr);
        }
        
        .tile {
            aspect-ratio:1; 
            border-radius: 12px; 
            overflow:hidden; 
            position:relative; 
            cursor:pointer;
            transition: transform .25s var(--t-base), box-shadow .25s var(--t-base);
        }
        
        .tile:hover { 
            transform: translateY(-4px); 
            box-shadow: var(--shadow-md); 
        }
        
        .tile img { 
            width:100%; 
            height:100%; 
            object-fit: cover; 
            display:block; 
        }
        
        .tile.big { 
            grid-column: span 2; 
            grid-row: span 2; 
        }

        .masonry { 
            columns: 4; 
            column-gap: 12px; 
            padding: 12px 2px; 
        }
        
        .pin { 
            break-inside: avoid; 
            margin: 0 0 12px; 
            background: var(--cream-100); 
            border: 1px solid rgba(161,115,74,.25); 
            border-radius: 12px; 
            overflow:hidden; 
            box-shadow: var(--shadow-sm); 
            transition:.25s; 
        }
        
        .pin:hover { 
            transform: translateY(-4px); 
            box-shadow: var(--shadow-md); 
        }
        
        .pin img { 
            width:100%; 
            display:block; 
        }
        
        .pin .pin-body { 
            padding: 10px; 
            display:grid; 
            gap:6px; 
        }
        
        .pin .title { 
            font-weight:700; 
            font-size:14px; 
            color: var(--brown-700); 
            margin: 0;
        }
        
        .pin .meta { 
            font-size:12px; 
            color: #7a5a3b; 
            display:flex; 
            gap:8px; 
            align-items:center; 
            margin: 0;
        }
        
        .badge-price { 
            background: var(--gold-light); 
            color:#4a2e0e; 
            border-radius:8px; 
            padding: 4px 8px; 
            font-weight: 800; 
            font-size:12px; 
        }

        .backdrop {
            position: fixed; 
            inset:0; 
            display:grid; 
            place-items:center;
            background: rgba(0,0,0,.5); 
            z-index: 60; 
            opacity:0; 
            visibility:hidden; 
            transition: .25s ease;
            padding: 14px;
        }
        
        .backdrop.open { 
            opacity:1; 
            visibility: visible; 
        }
        
        .modal {
            width: min(100%, 940px); 
            background: var(--cream-100);
            border-radius: 18px; 
            border: 1px solid rgba(161,115,74,.25);
            overflow: hidden; 
            box-shadow: var(--shadow-lg);
            transform: translateY(24px) scale(.98); 
            opacity:0; 
            transition: .28s var(--t-bounce);
        }
        
        .modal.open { 
            transform: none; 
            opacity:1; 
        }
        
        .modal header { 
            display:flex; 
            align-items:center; 
            gap:10px; 
            padding: 12px; 
            border-bottom: 1px solid rgba(161,115,74,.25); 
        }
        
        .avatar { 
            width:38px; 
            height:38px; 
            border-radius:50%; 
            object-fit:cover; 
            border:2px solid var(--brown-300); 
        }
        
        .artist { 
            font-weight: 700; 
            color: var(--brown-600); 
            font-size: 14px; 
        }
        
        .modal-body { 
            display:grid; 
            grid-template-columns: 1.1fr 1fr; 
        }
        
        .modal-media { 
            background:#000; 
        }
        
        .modal-media img, .modal-media video { 
            width:100%; 
            height:100%; 
            object-fit: contain; 
            display:block; 
        }
        
        .modal-panel { 
            padding: 14px; 
            display:grid; 
            gap:12px; 
        }
        
        .price-row { 
            display:flex; 
            gap:10px; 
            align-items:center; 
        }
        
        .price { 
            font-weight: 800; 
            color: var(--brown-600); 
            font-size: 1.25rem;
        }
        
        .buy { 
            margin-left:auto; 
            background: var(--brown-600); 
            color:#fff; 
            border:0; 
            padding:10px 14px; 
            border-radius: 12px; 
            cursor:pointer; 
            font-weight: 600;
            transition: background-color 0.2s;
        }
        
        .buy:hover {
            background: var(--brown-700);
        }
        
        .pill {
            padding:8px; 
            border:1px solid var(--brown-300); 
            background: var(--cream-100); 
            border-radius:999px; 
            cursor:pointer; 
            transition:.2s;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .pill:hover { 
            transform: translateY(-1px); 
            box-shadow: var(--shadow-sm); 
        }

        h3 {
            margin: 16px 4px 12px;
            color: var(--brown-700);
            font-weight: 700;
        }

        @media (max-width: 980px){
            .explore { grid-template-columns: repeat(5, 1fr); }
            .masonry { columns: 3; }
        }
        
        @media (max-width: 640px){
            .explore { grid-template-columns: repeat(3, 1fr); }
            .masonry { columns: 2; }
            .modal-body { grid-template-columns: 1fr; }
        }
        
        @media (max-width: 420px){
            .explore { grid-template-columns: repeat(2, 1fr); }
            .masonry { columns: 1; }
            .filter-tabs {
                padding-bottom: 4px;
            }
        }

        @keyframes slideDown { 
            from { transform: translateY(-100%); opacity:.6; } 
            to { transform:none; opacity:1; } 
        }
        
        @keyframes slideUp { 
            from { transform: translateY(100%); opacity:.6; } 
            to { transform:none; opacity:1; } 
        }

        .icon { width: 24px; height: 24px; stroke: currentColor; }
        .icon-sm { width: 18px; height: 18px; }
    </style>
</head>
<body>
    <div class="header">
        <img src="../imgs/Bid4Arts Logo removebg.png" alt="Bid4Arts Logo" class="logo">
    </div>

    <svg style="display:none">
        <defs>
        <symbol id="i-home" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M3 10.5l9-7 9 7V20a2 2 0 0 1-2 2h-3.5a1.5 1.5 0 0 1-1.5-1.5V15a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v5.5A1.5 1.5 0 0 1 7 22H5a2 2 0 0 1-2-2z"/>
        </symbol>
        <symbol id="i-search" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="7"/><path d="m21 21-4.5-4.5"/>
        </symbol>
        <symbol id="i-post" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <rect x="3" y="3" width="18" height="18" rx="3"/><path d="M12 8v8M8 12h8"/>
        </symbol>
        <symbol id="i-hammer" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m14 3 4 4-6 6-4-4z"/><path d="M8 9 4 13"/><path d="m7 20 7-7"/><path d="M2 22l5-1"/>
        </symbol>
        <symbol id="i-profile" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="7.5" r="4"/><path d="M4 20.5a8 8 0 0 1 16 0"/>
        </symbol>
        <symbol id="i-heart" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M20.8 5.8a5.5 5.5 0 0 0-7.8 0L12 6.8l-1-1a5.5 5.5 0 0 0-7.8 7.8l1 1L12 22l7.8-7.8 1-1a5.5 5.5 0 0 0 0-7.8z"/>
        </symbol>
        <symbol id="i-comment" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 14a4 4 0 0 1-4 4H8l-4 4V6a4 4 0 0 1 4-4h9a4 4 0 0 1 4 4z"/>
        </symbol>
        <symbol id="i-share" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="m22 2-9.5 9.5M22 2l-7 20-4-10-10-4z"/>
        </symbol>
        <symbol id="i-close" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M18 6 6 18M6 6l12 12"/>
        </symbol>
        <symbol id="i-chat" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 11.5a8.5 8.5 0 0 1-8.5 8.5A8.7 8.7 0 0 1 8 19L3 21l2-5a8.7 8.7 0 0 1-1-4 8.5 8.5 0 0 1 8.5-8.5A8.5 8.5 0 0 1 21 11.5z"/>
        </symbol>
        <symbol id="i-settings" viewBox="0 0 24 24" fill="none" stroke="currentColor"
            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="12" cy="12" r="3"/>
            <path d="M19.4 15a1.7 1.7 0 0 0 .3 1.8l.1.1a2 2 0 0 1-2.8 2.8l-.1-.1a1.7 1.7 0 0 0-1.8-.3 1.7 1.7 0 0 0-1 1.5V21a2 2 0 0 1-4 0v-.2a1.7 1.7 0 0 0-1-1.5 1.7 1.7 0 0 0-1.8.3l-.1.1a2 2 0 1 1-2.8-2.8l.1-.1a1.7 1.7 0 0 0 .3-1.8 1.7 1.7 0 0 0-1.5-1H3a2 2 0 0 1 0-4h.2a1.7 1.7 0 0 0 1.5-1 1.7 1.7 0 0 0-.3-1.8l-.1-.1A2 2 0 1 1 7.1 3l.1.1a1.7 1.7 0 0 0 1.8.3H9a1.7 1.7 0 0 0 1-1.5V3a2 2 0 0 1 4 0v.2a1.7 1.7 0 0 0 1 1.5 1.7 1.7 0 0 0 1.8-.3l.1-.1a2 2 0 1 1 2.8 2.8l-.1.1a1.7 1.7 0 0 0-.3 1.8V9c0 .7.4 1.3 1.1 1.5H21a2 2 0 0 1 0 4h-.2a1.7 1.7 0 0 0-1.5 1z"/>
        </symbol>
        </defs>
    </svg>

    <main>
        <div class="search-header">
        <div class="search-bar">
            <input id="q" class="search-input" placeholder="Search artists, artworks, styles..." />
            <span class="search-ico"><svg class="icon"><use href="#i-search"></use></svg></span>
            <span id="clearQ" class="clear-ico"><svg class="icon-sm"><use href="#i-close"></use></svg></span>
        </div>
        <div class="filter-tabs">
            <button class="chip active" data-filter="all">All</button>
            <button class="chip" data-filter="paintings">Paintings</button>
            <button class="chip" data-filter="digital">Digital</button>
            <button class="chip" data-filter="sculptures">Sculptures</button>
            <button class="chip" data-filter="artists">Artists</button>
            <button class="chip" data-filter="featured">Featured</button>
        </div>
        </div>

        <h3>Explore</h3>
        <div class="explore" id="exploreGrid"></div>

        <h3>Discover more</h3>
        <div class="masonry" id="masonryGrid"></div>
    </main>

    <div class="backdrop" id="backdrop" aria-hidden="true">
        <div class="modal" id="modal">
        <header>
            <button id="mClose" class="pill">
                <svg class="icon-sm"><use href="#i-close"></use></svg>
            </button>
            <img class="avatar" id="mAvatar" alt="Artist avatar">
            <div class="artist" id="mArtist"></div>
        </header>
        <div class="modal-body">
            <div class="modal-media" id="mMedia"></div>
            <div class="modal-panel">
            <div id="mTitle" style="font-weight:800;"></div>
            <div id="mDesc" style="font-size:14px; color:#6e4b2e;"></div>
            <div class="price-row">
                <span class="price" id="mPrice"></span>
                <button class="buy" id="mBuy">Buy now</button>
            </div>
            </div>
        </div>
        </div>
    </div>

    <div class="navbar">
        <a href="home.html" class="nav-item">
            <i class="fas fa-home"></i>
            <span>Home</span>
        </a>
        <a href="search.html" class="nav-item active">
            <i class="fas fa-search"></i>
            <span>Search</span>
        </a>
        <a href="new-post.html" class="nav-item">
            <i class="fas fa-plus-square"></i>
            <span>Post</span>
        </a>
        <a href="bidding.html" class="nav-item">
            <i class="fas fa-gavel"></i>
            <span>Bidding</span>
        </a>
        <a href="profile.html" class="nav-item">
            <i class="fas fa-user"></i>
            <span>Profile</span>
        </a>
        <a href="settings.html" class="nav-item">
            <i class="fas fa-cog"></i>
            <span>Settings</span>
        </a>
    </div>

    <script>
        // Basic functionality for the search page
        document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('q');
        const clearButton = document.getElementById('clearQ');
        const filterChips = document.querySelectorAll('.chip');
        const backdrop = document.getElementById('backdrop');
        const modal = document.getElementById('modal');
        const closeModal = document.getElementById('mClose');
        
        // Show/hide clear button based on input
        searchInput.addEventListener('input', function() {
            if (this.value.length > 0) {
            clearButton.classList.add('show');
            } else {
            clearButton.classList.remove('show');
            }
        });
        
        // Clear search input
        clearButton.addEventListener('click', function() {
            searchInput.value = '';
            this.classList.remove('show');
            searchInput.focus();
        });
        
        // Filter chips selection
        filterChips.forEach(chip => {
            chip.addEventListener('click', function() {
            filterChips.forEach(c => c.classList.remove('active'));
            this.classList.add('active');
            });
        });
        
        // Modal functionality
        if (closeModal) {
            closeModal.addEventListener('click', closeModalFunc);
        }
        
        if (backdrop) {
            backdrop.addEventListener('click', function(e) {
            if (e.target === backdrop) closeModalFunc();
            });
        }
        
        function closeModalFunc() {
            backdrop.classList.remove('open');
            modal.classList.remove('open');
            setTimeout(() => {
            backdrop.style.visibility = 'hidden';
            }, 250);
        }
        
        // Sample content for demonstration
        const exploreGrid = document.getElementById('exploreGrid');
        const masonryGrid = document.getElementById('masonryGrid');
        
        if (exploreGrid) {
            const exploreItems = Array.from({length: 12}, (_, i) => {
            const isBig = i % 5 === 0;
            return `
                <div class="tile ${isBig ? 'big' : ''}">
                <img src="https://picsum.photos/400/400?random=${i+100}" alt="Artwork ${i+1}">
                </div>
            `;
            }).join('');
            exploreGrid.innerHTML = exploreItems;
        }
        
        if (masonryGrid) {
            const masonryItems = Array.from({length: 12}, (_, i) => {
            return `
                <div class="pin">
                <img src="https://picsum.photos/400/${500 + (i % 3) * 100}?random=${i+200}" alt="Artwork ${i+1}">
                <div class="pin-body">
                    <div class="title">Artwork Title ${i+1}</div>
                    <div class="meta">
                    <span>by Artist${i+1}</span>
                    <span class="badge-price">$${(100 + i * 50).toLocaleString()}</span>
                    </div>
                </div>
                </div>
            `;
            }).join('');
            masonryGrid.innerHTML = masonryItems;
        }
        
        // Add click event to tiles and pins to open modal
        document.querySelectorAll('.tile, .pin').forEach(item => {
            item.addEventListener('click', function() {
            const backdrop = document.getElementById('backdrop');
            const modal = document.getElementById('modal');
            
            // Sample data for modal
            document.getElementById('mAvatar').src = 'https://picsum.photos/100/100?random=50';
            document.getElementById('mArtist').textContent = 'Artist Name';
            document.getElementById('mTitle').textContent = 'Beautiful Artwork';
            document.getElementById('mDesc').textContent = 'This is a description of the artwork.';
            document.getElementById('mPrice').textContent = '$1,200';
            
            // Set media (image for demo)
            const mMedia = document.getElementById('mMedia');
            mMedia.innerHTML = '<img src="https://picsum.photos/600/800?random=300" alt="Artwork">';
            
            backdrop.style.visibility = 'visible';
            setTimeout(() => {
                backdrop.classList.add('open');
                modal.classList.add('open');
            }, 10);
            });
        });
        });
    </script>
</body>
</html>